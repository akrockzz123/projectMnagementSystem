{"ast":null,"code":"import _regeneratorRuntime from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(workdeleteUserSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchuserDeleteSaga);import{takeEvery,call,put}from'redux-saga/effects';import{userActionType}from'../state/action-types';import axios from'axios';import{userDeleteSuccessAction,userDeleteFailAction}from'../state/action-creators';var deleteUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{'Content-Type':'application/json'}};_context.next=4;return axios.post(\"/user/remove/\".concat(id),config);case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);throw _context.t0;case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function deleteUser(_x){return _ref.apply(this,arguments);};}();function workdeleteUserSaga(action){var result;return _regeneratorRuntime().wrap(function workdeleteUserSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0://yield takeEvery\nconsole.log(\"delete user saga working\");_context2.prev=1;_context2.next=4;return call(deleteUser,action.payload.id);case 4:result=_context2.sent;console.log(result);// dispatching a success action with the deleted user id\n_context2.next=8;return put(userDeleteSuccessAction);case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);_context2.next=14;return put(userDeleteFailAction);case 14:case\"end\":return _context2.stop();}},_marked,null,[[1,10]]);}function watchuserDeleteSaga(){return _regeneratorRuntime().wrap(function watchuserDeleteSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"watch delete user saga\");_context3.next=3;return takeEvery(userActionType.USER_DELETE_REQUEST,workdeleteUserSaga);case 3:case\"end\":return _context3.stop();}},_marked2);}export var userDeleteSaga=watchuserDeleteSaga;","map":{"version":3,"names":["workdeleteUserSaga","_marked2","_regeneratorRuntime","mark","watchuserDeleteSaga","takeEvery","call","put","userActionType","axios","userDeleteSuccessAction","userDeleteFailAction","deleteUser","_ref","_asyncToGenerator","_callee","id","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","headers","post","concat","sent","abrupt","t0","stop","_x","apply","arguments","action","result","workdeleteUserSaga$","_context2","console","log","payload","_marked","watchuserDeleteSaga$","_context3","USER_DELETE_REQUEST","userDeleteSaga"],"sources":["/home/aniketkumar/KB/projectMnagementSystem/frontend/src/sagas/deleteUserSaga.ts"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\nimport { takeEvery, call,put} from  'redux-saga/effects';\n\nimport { userActionType } from '../state/action-types';\n\n\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { userDeleteRequestAction, userDeleteSuccessAction,userDeleteFailAction } from '../state/action-creators';\nimport { createTry } from 'typescript';\nimport { config } from 'process';\n\n\nconst deleteUser  = async (id : string) => {\n\n\n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n    \n        const { data } = await axios.post(`/user/remove/${id}`,config)\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n}\n\n\n\n\n\nfunction* workdeleteUserSaga(action: Action) : any{\n\n    //yield takeEvery\n\n    console.log(\"delete user saga working\")\n\n    try {\n          // making an api call to delete the user\n        const result = yield call(deleteUser,action.payload.id);\n\n        console.log(result)\n\n        // dispatching a success action with the deleted user id\n        \n        yield put(userDeleteSuccessAction)\n    }\n    catch(err) {\n        // dispatching a failure action with the error message\n        yield put(userDeleteFailAction)\n    }\n}\n function* watchuserDeleteSaga() {\n\n    console.log(\"watch delete user saga\")\n    yield takeEvery(userActionType.USER_DELETE_REQUEST,workdeleteUserSaga);\n\n    \n\n}\n\nexport const userDeleteSaga = watchuserDeleteSaga"],"mappings":"wVAkDUA,kBAAkB,EAAAC,QAAA,cAAAC,mBAAA,GAAAC,IAAA,CAqBjBC,mBAAmB,EA7D9B,OAASC,SAAS,CAAEC,IAAI,CAACC,GAAG,KAAQ,oBAAoB,CAExD,OAASC,cAAc,KAAQ,uBAAuB,CAItD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAGzB,OAAkCC,uBAAuB,CAACC,oBAAoB,KAAQ,0BAA0B,CAKhH,GAAM,CAAAC,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAZ,mBAAA,GAAAC,IAAA,CAAI,SAAAY,QAAOC,EAAW,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,IAAA,QAAAjB,mBAAA,GAAAkB,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAKxBN,MAAM,CAAG,CACXQ,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAH,QAAA,CAAAE,IAAA,SAEsB,CAAAf,KAAK,CAACiB,IAAI,iBAAAC,MAAA,CAAiBX,EAAE,EAAGC,MAAM,CAAC,QAAAC,iBAAA,CAAAI,QAAA,CAAAM,IAAA,CAAtDT,IAAI,CAAAD,iBAAA,CAAJC,IAAI,QAAAG,QAAA,CAAAO,MAAA,UAELV,IAAI,SAAAG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,mBAAAA,QAAA,CAAAQ,EAAA,0BAAAR,QAAA,CAAAS,IAAA,MAAAhB,OAAA,gBAOlB,kBApBK,CAAAH,UAAUA,CAAAoB,EAAA,SAAAnB,IAAA,CAAAoB,KAAA,MAAAC,SAAA,OAoBf,CAMD,QAAU,CAAAlC,kBAAkBA,CAACmC,MAAc,MAAAC,MAAA,QAAAlC,mBAAA,GAAAkB,IAAA,UAAAiB,oBAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAEvC;AAEAe,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CAAAF,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAd,IAAA,GAIpB,MAAM,CAAAlB,IAAI,CAACM,UAAU,CAACuB,MAAM,CAACM,OAAO,CAACzB,EAAE,CAAC,QAAjDoB,MAAM,CAAAE,SAAA,CAAAV,IAAA,CAEZW,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC,CAEnB;AAAAE,SAAA,CAAAd,IAAA,GAEA,MAAM,CAAAjB,GAAG,CAACG,uBAAuB,CAAC,QAAA4B,SAAA,CAAAd,IAAA,kBAAAc,SAAA,CAAAf,IAAA,IAAAe,SAAA,CAAAR,EAAA,CAAAQ,SAAA,aAAAA,SAAA,CAAAd,IAAA,IAIlC,MAAM,CAAAjB,GAAG,CAACI,oBAAoB,CAAC,0BAAA2B,SAAA,CAAAP,IAAA,MAAAW,OAAA,iBAGtC,QAAU,CAAAtC,mBAAmBA,CAAA,SAAAF,mBAAA,GAAAkB,IAAA,UAAAuB,qBAAAC,SAAA,iBAAAA,SAAA,CAAArB,IAAA,CAAAqB,SAAA,CAAApB,IAAA,SAE1Be,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CAAAI,SAAA,CAAApB,IAAA,GACrC,MAAM,CAAAnB,SAAS,CAACG,cAAc,CAACqC,mBAAmB,CAAC7C,kBAAkB,CAAC,yBAAA4C,SAAA,CAAAb,IAAA,MAAA9B,QAAA,GAM1E,MAAO,IAAM,CAAA6C,cAAc,CAAG1C,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}