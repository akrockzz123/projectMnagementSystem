{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { userLoginFailAction } from '../state/action-creators';\nconst fetchUser = async (email, password) => {\n  console.log(email, password);\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const username = email;\n    const pass = password;\n    const {\n      data\n    } = await axios.post('/user/login', {\n      email,\n      password\n    }, config);\n    return data;\n  } catch (err) {\n    throw err;\n  }\n};\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\nfunction* workuserSaga(action) {\n  //yield takeEvery\n\n  console.log(\"worksaga working\");\n  try {\n    //action.payload.email\n\n    console.log(action.payload.user, action.payload.pass);\n    const result = yield call(fetchUser, action.payload.user, action.payload.pass);\n    console.log(result);\n\n    // way of calling action from work saga\n\n    yield put({\n      type: userActionType.USER_LOGIN_SUCCESS,\n      pa\n    });\n  } catch (err) {\n    yield put(userLoginFailAction());\n  }\n}\nfunction* watchuserSaga() {\n  console.log(\"watch saga\");\n  yield takeEvery(userActionType.USER_LOGIN_REQUEST, workuserSaga);\n\n  //yield call(handleLoginAction);\n}\n\nexport const userSagas = watchuserSaga;","map":{"version":3,"names":["takeEvery","call","put","userActionType","axios","userLoginFailAction","fetchUser","email","password","console","log","config","headers","username","pass","data","post","err","workuserSaga","action","payload","user","result","type","USER_LOGIN_SUCCESS","pa","watchuserSaga","USER_LOGIN_REQUEST","userSagas"],"sources":["/home/aniketkumar/KB/projectMnagementSystem/frontend/src/sagas/userSaga.ts"],"sourcesContent":["\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { userLoginRequestAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst fetchUser  = async (email: string,password: string) => {\n\n    console.log(email,password)\n\n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        const username : string = email\n\n        const pass : string = password\n    \n        const { data } = await axios.post('/user/login',{email,password},config)\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n\n\n\n\n}\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\n\n\n\nfunction* workuserSaga(action: Action) : any{\n\n    //yield takeEvery\n\n    console.log(\"worksaga working\")\n\n    try {\n\n        //action.payload.email\n\n        console.log(action.payload.user,action.payload.pass)\n\n\n        const result = yield call(fetchUser,action.payload.user,action.payload.pass);\n\n        console.log(result)\n\n        // way of calling action from work saga\n        \n        yield put({type : userActionType.USER_LOGIN_SUCCESS, pa})\n\n    \n\n    }\n    catch(err) {\n\n        yield put(userLoginFailAction())\n    }\n}\n function* watchuserSaga() {\n\n    console.log(\"watch saga\")\n    yield takeEvery(userActionType.USER_LOGIN_REQUEST,workuserSaga);\n\n    //yield call(handleLoginAction);\n\n}\n\nexport const userSagas = watchuserSaga;"],"mappings":"AAEA,SAASA,SAAS,EAAiBC,IAAI,EAACC,GAAG,QAAc,oBAAoB;;AAE7E;;AAEA,SAASC,cAAc,QAAQ,uBAAuB;;AAEtD;;AAEA;;AAEA,OAAOC,KAAK,MAAM,OAAO;AAKzB,SAASC,mBAAmB,QAAQ,0BAA0B;AAK9D,MAAMC,SAAS,GAAI,MAAAA,CAAOC,KAAa,EAACC,QAAgB,KAAK;EAEzDC,OAAO,CAACC,GAAG,CAACH,KAAK,EAACC,QAAQ,CAAC;EAE3B,IAAI;IAEA,MAAMG,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC;IAED,MAAMC,QAAiB,GAAGN,KAAK;IAE/B,MAAMO,IAAa,GAAGN,QAAQ;IAE9B,MAAM;MAAEO;IAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,aAAa,EAAC;MAACT,KAAK;MAACC;IAAQ,CAAC,EAACG,MAAM,CAAC;IAExE,OAAOI,IAAI;EAEf,CAAC,CAAC,OAAOE,GAAG,EAAE;IAEV,MAAMA,GAAG;EACb;AAMJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA,UAAUC,YAAYA,CAACC,MAAc,EAAO;EAExC;;EAEAV,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAE/B,IAAI;IAEA;;IAEAD,OAAO,CAACC,GAAG,CAACS,MAAM,CAACC,OAAO,CAACC,IAAI,EAACF,MAAM,CAACC,OAAO,CAACN,IAAI,CAAC;IAGpD,MAAMQ,MAAM,GAAG,MAAMrB,IAAI,CAACK,SAAS,EAACa,MAAM,CAACC,OAAO,CAACC,IAAI,EAACF,MAAM,CAACC,OAAO,CAACN,IAAI,CAAC;IAE5EL,OAAO,CAACC,GAAG,CAACY,MAAM,CAAC;;IAEnB;;IAEA,MAAMpB,GAAG,CAAC;MAACqB,IAAI,EAAGpB,cAAc,CAACqB,kBAAkB;MAAEC;IAAE,CAAC,CAAC;EAI7D,CAAC,CACD,OAAMR,GAAG,EAAE;IAEP,MAAMf,GAAG,CAACG,mBAAmB,EAAE,CAAC;EACpC;AACJ;AACC,UAAUqB,aAAaA,CAAA,EAAG;EAEvBjB,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;EACzB,MAAMV,SAAS,CAACG,cAAc,CAACwB,kBAAkB,EAACT,YAAY,CAAC;;EAE/D;AAEJ;;AAEA,OAAO,MAAMU,SAAS,GAAGF,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}