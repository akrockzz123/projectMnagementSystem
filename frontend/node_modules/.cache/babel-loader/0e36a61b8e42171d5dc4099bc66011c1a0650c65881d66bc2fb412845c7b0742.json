{"ast":null,"code":"import _regeneratorRuntime from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(workuserSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchuserSaga);import{takeEvery,call,put}from'redux-saga/effects';import{userActionType}from'../state/action-types';import axios from'axios';var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{'Content-Type':'application/json'}};_context.next=4;return axios.post('/user/login',{username:username,password:password},config);case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);throw _context.t0;case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchUser(_x,_x2){return _ref.apply(this,arguments);};}();function workuserSaga(action){var result;return _regeneratorRuntime().wrap(function workuserSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(fetchUser,action.payload.user,action.payload.pass);case 3:result=_context2.sent;_context2.next=6;return put({type:userActionType.USER_LOGIN_SUCCESS,payload:result});case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.next=12;return put({type:userActionType.USER_LOGIN_FAIL});case 12:case\"end\":return _context2.stop();}},_marked,null,[[0,8]]);}function watchuserSaga(){return _regeneratorRuntime().wrap(function watchuserSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeEvery(userActionType.USER_LOGIN_REQUEST,workuserSaga);case 2:case\"end\":return _context3.stop();}},_marked2);}export var userSagas=watchuserSaga;","map":{"version":3,"names":["workuserSaga","_marked2","_regeneratorRuntime","mark","watchuserSaga","takeEvery","call","put","userActionType","axios","fetchUser","_ref","_asyncToGenerator","_callee","username","password","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","headers","post","sent","abrupt","t0","stop","_x","_x2","apply","arguments","action","result","workuserSaga$","_context2","payload","user","pass","type","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","_marked","watchuserSaga$","_context3","USER_LOGIN_REQUEST","userSagas"],"sources":["/home/sameersuman/KB/new/projectMnagementSystem/frontend/src/sagas/userSaga.ts"],"sourcesContent":["\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n\nimport { userActionType } from '../state/action-types';\n\nimport axios from 'axios';\n\nimport { Action } from '../state/action';\n\nimport { userLoginRequestAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst fetchUser  = async (username: string,password: string) => {\n\n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        \n    \n        const { data } = await axios.post('/user/login',{username,password},config)\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n\n}\n\n\nfunction* workuserSaga(action: Action) : any {\n\n    try {\n\n        const result = yield call(fetchUser,action.payload.user,action.payload.pass);\n        \n        yield put({type : userActionType.USER_LOGIN_SUCCESS, payload : result})\n\n    }\n    catch(err) {\n\n    yield put({type : userActionType.USER_LOGIN_FAIL})\n    \n    }\n\n\n        \n}\n function* watchuserSaga() {\n\n   \n    yield takeEvery(userActionType.USER_LOGIN_REQUEST,workuserSaga);\n\n}\n\nexport const userSagas = watchuserSaga"],"mappings":"gWA0CUA,YAAY,EAAAC,QAAA,cAAAC,mBAAA,GAAAC,IAAA,CAkBXC,aAAa,EA1DxB,OAASC,SAAS,CAAiBC,IAAI,CAACC,GAAG,KAAc,oBAAoB,CAG7E,OAASC,cAAc,KAAQ,uBAAuB,CAEtD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAWzB,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAV,mBAAA,GAAAC,IAAA,CAAI,SAAAU,QAAOC,QAAgB,CAACC,QAAgB,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,IAAA,QAAAhB,mBAAA,GAAAiB,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAI7CN,MAAM,CAAG,CACXQ,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAH,QAAA,CAAAE,IAAA,SAIsB,CAAAd,KAAK,CAACgB,IAAI,CAAC,aAAa,CAAC,CAACX,QAAQ,CAARA,QAAQ,CAACC,QAAQ,CAARA,QAAQ,CAAC,CAACC,MAAM,CAAC,QAAAC,iBAAA,CAAAI,QAAA,CAAAK,IAAA,CAAnER,IAAI,CAAAD,iBAAA,CAAJC,IAAI,QAAAG,QAAA,CAAAM,MAAA,UAELT,IAAI,SAAAG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,mBAAAA,QAAA,CAAAO,EAAA,0BAAAP,QAAA,CAAAQ,IAAA,MAAAhB,OAAA,gBAOlB,kBArBK,CAAAH,SAASA,CAAAoB,EAAA,CAAAC,GAAA,SAAApB,IAAA,CAAAqB,KAAA,MAAAC,SAAA,OAqBd,CAGD,QAAU,CAAAjC,YAAYA,CAACkC,MAAc,MAAAC,MAAA,QAAAjC,mBAAA,GAAAiB,IAAA,UAAAiB,cAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAAAc,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAd,IAAA,GAId,MAAM,CAAAjB,IAAI,CAACI,SAAS,CAACwB,MAAM,CAACI,OAAO,CAACC,IAAI,CAACL,MAAM,CAACI,OAAO,CAACE,IAAI,CAAC,QAAtEL,MAAM,CAAAE,SAAA,CAAAX,IAAA,CAAAW,SAAA,CAAAd,IAAA,GAEZ,MAAM,CAAAhB,GAAG,CAAC,CAACkC,IAAI,CAAGjC,cAAc,CAACkC,kBAAkB,CAAEJ,OAAO,CAAGH,MAAM,CAAC,CAAC,QAAAE,SAAA,CAAAd,IAAA,iBAAAc,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAT,EAAA,CAAAS,SAAA,aAAAA,SAAA,CAAAd,IAAA,IAK3E,MAAM,CAAAhB,GAAG,CAAC,CAACkC,IAAI,CAAGjC,cAAc,CAACmC,eAAe,CAAC,CAAC,0BAAAN,SAAA,CAAAR,IAAA,MAAAe,OAAA,gBAOrD,QAAU,CAAAxC,aAAaA,CAAA,SAAAF,mBAAA,GAAAiB,IAAA,UAAA0B,eAAAC,SAAA,iBAAAA,SAAA,CAAAxB,IAAA,CAAAwB,SAAA,CAAAvB,IAAA,SAAAuB,SAAA,CAAAvB,IAAA,GAGpB,MAAM,CAAAlB,SAAS,CAACG,cAAc,CAACuC,kBAAkB,CAAC/C,YAAY,CAAC,yBAAA8C,SAAA,CAAAjB,IAAA,MAAA5B,QAAA,GAInE,MAAO,IAAM,CAAA+C,SAAS,CAAG5C,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}