{"ast":null,"code":"import _regeneratorRuntime from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(workadduserSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchadduserSaga);import{takeEvery,call,put}from'redux-saga/effects';//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\nimport{userActionType}from'../state/action-types';//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n//import { userLoginSuccessAction } from '../state/action-creators';\nimport axios from'axios';import{userSignupFailAction}from'../state/action-creators';var addUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,email,password,role){var config,status,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(email,password);_context.prev=1;config={headers:{'Content-Type':'application/json'}};status=\"Inactive\";_context.next=6;return axios.post('/user/add',{username:username,email:email,role:role,status:status,password:password},config);case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);throw _context.t0;case 14:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function addUser(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/function workadduserSaga(action){var result;return _regeneratorRuntime().wrap(function workadduserSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0://yield takeEvery\nconsole.log(\"work add user saga working\");_context2.prev=1;_context2.next=4;return call(addUser,action.payload.username,action.payload.email,action.payload.password,action.payload.role);case 4:result=_context2.sent;console.log(result);// way of calling action from work saga\n// yield put(userSignupSuccessAction)\n_context2.next=8;return put({type:userActionType.USER_SIGNUP_SUCCESS});case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);_context2.next=14;return put(userSignupFailAction);case 14:case\"end\":return _context2.stop();}},_marked,null,[[1,10]]);}function watchadduserSaga(){return _regeneratorRuntime().wrap(function watchadduserSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"watch add user saga\");_context3.next=3;return takeEvery(userActionType.USER_SIGNUP_REQUEST,workadduserSaga);case 3:case\"end\":return _context3.stop();}},_marked2);}export var AdduserSaga=watchadduserSaga;","map":{"version":3,"names":["workadduserSaga","_marked2","_regeneratorRuntime","mark","watchadduserSaga","takeEvery","call","put","userActionType","axios","userSignupFailAction","addUser","_ref","_asyncToGenerator","_callee","username","email","password","role","config","status","_yield$axios$post","data","wrap","_callee$","_context","prev","next","console","log","headers","post","sent","abrupt","t0","stop","_x","_x2","_x3","_x4","apply","arguments","action","result","workadduserSaga$","_context2","payload","type","USER_SIGNUP_SUCCESS","_marked","watchadduserSaga$","_context3","USER_SIGNUP_REQUEST","AdduserSaga"],"sources":["/home/aniketkumar/KB/projectMnagementSystem/frontend/src/sagas/addUserSaga.ts"],"sourcesContent":["\n\n\n\n\n\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { userLoginRequestAction, userSignupFailAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst addUser  = async (username : string,email: string,password: string,role : string) => {\n\n    console.log(email,password)\n\n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        const status : string = \"Inactive\"\n\n        const { data } = await axios.post('/user/add',{username,email,role,status,password},config)\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n\n\n\n\n}\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\n\n\n\nfunction* workadduserSaga(action: Action) : any{\n\n    //yield takeEvery\n\n    console.log(\"work add user saga working\")\n\n    try {\n\n        //action.payload.email\n        const result = yield call(addUser,action.payload.username,action.payload.email,action.payload.password,action.payload.role);\n\n        console.log(result)\n\n        // way of calling action from work saga\n        \n       // yield put(userSignupSuccessAction)\n\n       yield put({\n                \n        type: userActionType.USER_SIGNUP_SUCCESS\n    })\n    \n\n    }\n    catch(err) {\n\n        yield put(userSignupFailAction)\n    }\n}\n function* watchadduserSaga() {\n\n    console.log(\"watch add user saga\")\n    yield takeEvery(userActionType.USER_SIGNUP_REQUEST,workadduserSaga);\n\n    //yield call(handleLoginAction);\n\n}\n\nexport const AdduserSaga = watchadduserSaga;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}