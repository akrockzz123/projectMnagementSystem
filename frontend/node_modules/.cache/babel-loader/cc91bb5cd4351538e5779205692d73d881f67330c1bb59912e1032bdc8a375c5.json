{"ast":null,"code":"import _slicedToArray from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useState}from'react';import{Button,Container,Nav,Navbar}from'react-bootstrap';import{useDispatch}from'react-redux';import{userinfoRequest}from'../state/action-creators';import{useAppSelector}from'../Types';import{useEffect}from'react';import{useNavigate}from'react-router-dom';import ListAllUsersScreen from'./ListAllUsersScreen';import AddProjectScreen from'./AddProjectScreen';import AddUserScreen from'./AddUserScreen';import{userActionType}from'../state/action-types';import UserCoursAssignedScreen from'./UserAssignedCoursesScreen';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// Name        string `json:\"name\"`\n// \tAssignee_id string `json:\"assignee_id\"`\n// \tStatus      string `json:\"status\"`\nvar NavigateScreen=function NavigateScreen(props){var navigate=useNavigate();var _useAppSelector=useAppSelector(function(state){return state.userinfoReducer;}),loadinguserinfo=_useAppSelector.loadinguserinfo,successuserinfo=_useAppSelector.successuserinfo,usersData=_useAppSelector.usersData;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),val=_useState2[0],setVal=_useState2[1];// useEffect(() => {\n//     localStorage.setItem('role',usersData.role)\n// },[])\n// const dispatch = useDispatch()\nconsole.log(loadinguserinfo,successuserinfo,usersData,usersData.role);if(successuserinfo){localStorage.setItem('role',usersData.role);}var LogoutHandler=function LogoutHandler(){console.log(\"logouthandler\");localStorage.removeItem('userdata');localStorage.removeItem('role');dispatch({type:userActionType.USER_INFO_RESET});navigate('/login');};// useEffect(() => {\n//     if(successuserinfo)\n//     {\n//         console.log(usersData.role,\"bubububu\")\n//         localStorage.setItem('role',usersData.role)\n//     }\n// },[])\nvar AssignProject=function AssignProject(){setVal(4);};var showusers=function showusers(){setVal(1);};var addUser=function addUser(){setVal(2);};var addProject=function addProject(){setVal(3);};useEffect(function(){if(!localStorage.getItem('userdata')){navigate('/login');}},[]);var dispatch=useDispatch();useEffect(function(){var datas=localStorage.getItem('userdata');var vals=JSON.parse(datas);var userid=vals.userId;dispatch(userinfoRequest(userid));//localStorage.setItem('role',usersData.role)\n},[]);// console.log(val)\nvar values=localStorage.getItem('userdata');// const usernames = JSON.parse(values)\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'45px'},children:[usersData.role=='Admin'||localStorage.getItem('role')=='Admin'?/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",sticky:\"top\",style:{marginTop:'20px'},children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{children:[\"Welcome \",usersData.userName,\" !!\"]}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:showusers,children:\"Show All Users\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:addUser,children:\"Add User\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:addProject,children:\"Add Project\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:AssignProject,children:\"Assigned Project\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:LogoutHandler,children:\"Logout\"})})]})]})}):/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",sticky:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Navbar.Brand,{children:[\"Welcome \",usersData.userName,\" !!\"]}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:showusers,children:\"Show All Users\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{onClick:AssignProject,children:\"Assigned Project\"})}),/*#__PURE__*/_jsx(Nav.Link,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:LogoutHandler,children:\"Logout\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[val==1?/*#__PURE__*/_jsx(ListAllUsersScreen,{}):/*#__PURE__*/_jsx(\"div\",{}),val==2?/*#__PURE__*/_jsx(AddUserScreen,{}):/*#__PURE__*/_jsx(\"div\",{}),val==3?/*#__PURE__*/_jsx(AddProjectScreen,{}):/*#__PURE__*/_jsx(\"div\",{}),val==4?/*#__PURE__*/_jsx(UserCoursAssignedScreen,{}):/*#__PURE__*/_jsx(\"div\",{})]})]});};export default NavigateScreen;","map":{"version":3,"names":["React","useState","Button","Container","Nav","Navbar","useDispatch","userinfoRequest","useAppSelector","useEffect","useNavigate","ListAllUsersScreen","AddProjectScreen","AddUserScreen","userActionType","UserCoursAssignedScreen","jsxs","_jsxs","jsx","_jsx","NavigateScreen","props","navigate","_useAppSelector","state","userinfoReducer","loadinguserinfo","successuserinfo","usersData","_useState","_useState2","_slicedToArray","val","setVal","console","log","role","localStorage","setItem","LogoutHandler","removeItem","dispatch","type","USER_INFO_RESET","AssignProject","showusers","addUser","addProject","getItem","datas","vals","JSON","parse","userid","userId","values","style","marginTop","children","bg","variant","sticky","Brand","userName","className","Link","onClick"],"sources":["/home/aniketkumar/KB/projectMnagementSystem/frontend/src/screen/NavigateScreen.tsx"],"sourcesContent":["\n\n\n\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { Button, Container, Form, Nav, Navbar } from 'react-bootstrap';\nimport { useDispatch } from 'react-redux';\nimport { AssignProjectRequest, courseAddRequestAction, userinfoRequest } from '../state/action-creators';\nimport { courseAddReducer } from '../state/reducers/courseAddReducer';\nimport { useAppSelector } from '../Types';\n\nimport { alertset } from '../state/action-creators';\nimport Alerts from './Alertscreen';\nimport { Alertshow } from '../component/AlertShow';\n\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { json } from 'stream/consumers';\n\nimport SignupScreen from './SignupScreen';\nimport ListAllUsersScreen from './ListAllUsersScreen';\nimport AddProjectScreen from './AddProjectScreen';\nimport AddUserScreen from './AddUserScreen';\nimport { userActionType } from '../state/action-types';\nimport UserCoursAssignedScreen from './UserAssignedCoursesScreen';\ninterface IAppProps {\n}\n\n// Name        string `json:\"name\"`\n// \tAssignee_id string `json:\"assignee_id\"`\n// \tStatus      string `json:\"status\"`\n\nconst NavigateScreen: React.FunctionComponent<IAppProps> = (props) => {\n\n    const navigate = useNavigate()\n\n    const {loadinguserinfo,successuserinfo,usersData} = useAppSelector(state => state.userinfoReducer)\n\n    const [val,setVal] = useState(0)\n\n    \n        // useEffect(() => {\n            \n        //     localStorage.setItem('role',usersData.role)\n        // },[])\n\n    // const dispatch = useDispatch()\n\n        console.log(loadinguserinfo,successuserinfo,usersData,usersData.role)\n\n\n        if(successuserinfo)\n        {\n            localStorage.setItem('role',usersData.role)\n        }\n    \n    const LogoutHandler = () => {\n\n        console.log(\"logouthandler\")\n        localStorage.removeItem('userdata')\n        localStorage.removeItem('role')\n\n        dispatch({type : userActionType.USER_INFO_RESET})\n        \n        navigate('/login')\n    }\n\n    // useEffect(() => {\n\n    //     if(successuserinfo)\n    //     {\n    //         console.log(usersData.role,\"bubububu\")\n    //         localStorage.setItem('role',usersData.role)\n    //     }\n    // },[])\n       \n        \n    \n    const AssignProject = () => {\n        setVal(4)\n    }\n\n    const showusers = () => {\n        \n        setVal(1)\n    }\n\n\n    const addUser = () => {\n        setVal(2)\n    }\n\n    const addProject = () => {\n        setVal(3)\n    }\n\n    useEffect(() => {\n\n\n        if(!localStorage.getItem('userdata'))\n        {\n            navigate('/login')\n        }\n    },[])\n\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n\n        const datas : any = localStorage.getItem('userdata')\n\n        const vals = JSON.parse(datas)\n\n        const userid = vals.userId\n\n        dispatch(userinfoRequest(userid))\n\n        //localStorage.setItem('role',usersData.role)\n\n    },[])\n\n    // console.log(val)\n   \n    const values : any = localStorage.getItem('userdata')\n\n    // const usernames = JSON.parse(values)\n\n    return(\n        <div style = {{marginTop : '45px'}}>\n        {usersData.role == 'Admin'  || localStorage.getItem('role') == 'Admin' ? (<Navbar bg=\"dark\" variant=\"dark\"  sticky = \"top\" style = {{marginTop : '20px'}}>\n        <Container>\n          <Navbar.Brand >Welcome {usersData.userName} !!</Navbar.Brand>\n          <Nav className=\"me-auto\">\n            <Nav.Link><Button onClick = {showusers}>Show All Users</Button></Nav.Link>\n            <Nav.Link ><Button onClick = {addUser}>Add User</Button></Nav.Link>\n            <Nav.Link><Button onClick = {addProject}>Add Project</Button></Nav.Link>\n            <Nav.Link><Button onClick = {AssignProject}>Assigned Project</Button></Nav.Link>\n            <Nav.Link><Button variant = 'danger' onClick = {LogoutHandler}>Logout</Button></Nav.Link>\n          </Nav>\n        </Container>\n      </Navbar>) : (\n\n<Navbar bg=\"dark\" variant=\"dark\" sticky = \"top\">\n<Container>\n  <Navbar.Brand >Welcome {usersData.userName} !!</Navbar.Brand>\n  <Nav className=\"me-auto\">\n    <Nav.Link><Button onClick = {showusers}>Show All Users</Button></Nav.Link>\n    <Nav.Link ><Button onClick = {AssignProject}>Assigned Project</Button></Nav.Link>\n    <Nav.Link ><Button variant = 'danger' onClick = {LogoutHandler}>Logout</Button></Nav.Link>\n  </Nav>\n</Container>\n</Navbar>\n      )}\n\n      <div>\n         {val == 1 ? <ListAllUsersScreen/> : <div></div>}\n         {val == 2 ? <AddUserScreen/> : <div></div>}\n         {val == 3 ? <AddProjectScreen/> : <div></div>}\n         {val == 4 ? <UserCoursAssignedScreen/> : <div></div>}\n      </div>\n        </div>\n    );\n};\n\nexport default NavigateScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}