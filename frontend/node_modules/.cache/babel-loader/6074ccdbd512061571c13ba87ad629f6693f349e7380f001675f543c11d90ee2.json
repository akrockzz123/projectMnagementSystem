{"ast":null,"code":"import _slicedToArray from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectDestructuringEmpty from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import React,{useEffect,useState}from'react';import'./style/loginScreen.css';import{useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';//import { useNavigate } from 'react-router-dom'\nimport{userLoginRequestAction}from'../state/action-creators';import{useAppSelector}from'../Types';import{Alertshow}from'../component/AlertShow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LoginScreen(_ref){_objectDestructuringEmpty(_ref);var navigate=useNavigate();useEffect(function(){var itemSet=localStorage.getItem('userdata');console.log(itemSet);if(itemSet){console.log('here');navigate('/navigate');}},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAdmin=_useState6[0],setIsAdmin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),errorss=_useState8[0],setErrorss=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),successlogin=_useState10[0],setSuccesslogin=_useState10[1];var dispatch=useDispatch();var _useAppSelector=useAppSelector(function(state){console.log(state);return state.userReducer;}),successLogin=_useAppSelector.successLogin,loadingLogin=_useAppSelector.loadingLogin,errorLogin=_useAppSelector.errorLogin,message=_useAppSelector.message,userIdLogin=_useAppSelector.userIdLogin,userNameLogin=_useAppSelector.userNameLogin;var usernameFunc=function usernameFunc(em){setUsername(em);setErrorss(false);};var passFunc=function passFunc(em){setErrorss(false);setPassword(em);};var adminFunc=function adminFunc(che){setIsAdmin(!isAdmin);};var userFunc=function userFunc(che){setIsAdmin(!isAdmin);};var loginHandler=function loginHandler(){dispatch(userLoginRequestAction(username,password));};if(successLogin){var obj={userId:userIdLogin,userName:userNameLogin};var userdata=JSON.stringify(obj);localStorage.setItem('userdata',userdata);//dispatch(userinfoRequest(userId))\n//dispatch(userLoginSuccessAction())\nsetTimeout(function(){navigate('/navigate');},4000);}var arr={\"msgtype\":\"success\",\"msg\":\"Hi \".concat(userNameLogin,\" welcome !!\")};var arr2={\"msgtype\":\"danger\",\"msg\":\"username or password invalid\"};return/*#__PURE__*/_jsxs(_Fragment,{children:[successLogin?/*#__PURE__*/_jsx(Alertshow,{arrs:arr}):/*#__PURE__*/_jsx(\"div\",{}),\",\",errorLogin&&!loadingLogin&&!successLogin?/*#__PURE__*/_jsx(Alertshow,{arrs:arr2}):/*#__PURE__*/_jsx(\"div\",{}),\",\",/*#__PURE__*/_jsx(\"div\",{className:\"loginPage bg-light-medium d-flex align-items-center justify-content-center w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group was-validated mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userName\",className:\"form-label\",children:\"UserName :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"userName\",className:\"form-control\",onChange:function onChange(e){usernameFunc(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"Please enter your username\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group form-group was-validated  mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"form-control\",onChange:function onChange(e){passFunc(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:\"Please enter your password\"}),errorss?/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:\"Please enter username and password correctly\"}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success block mt-2\",onClick:loginHandler,children:\"Login\"})]})]})})]});}export default LoginScreen;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useNavigate","userLoginRequestAction","useAppSelector","Alertshow","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginScreen","_ref","_objectDestructuringEmpty","navigate","itemSet","localStorage","getItem","console","log","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","isAdmin","setIsAdmin","_useState7","_useState8","errorss","setErrorss","_useState9","_useState10","successlogin","setSuccesslogin","dispatch","_useAppSelector","state","userReducer","successLogin","loadingLogin","errorLogin","message","userIdLogin","userNameLogin","usernameFunc","em","passFunc","adminFunc","che","userFunc","loginHandler","obj","userId","userName","userdata","JSON","stringify","setItem","setTimeout","arr","concat","arr2","children","arrs","className","htmlFor","type","id","onChange","e","target","value","required","style","color","onClick"],"sources":["/home/sameersuman/KB/new/projectMnagementSystem/frontend/src/screen/LoginScreen.tsx"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react'\nimport { Button, Form } from 'react-bootstrap'\nimport './style/loginScreen.css'\nimport { useDispatch } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\n\nimport Alert from \"react-bootstrap/Alert\";\n\n//import { useNavigate } from 'react-router-dom'\n\nimport { alertset, userinfoRequest, userLoginRequestAction, userLoginSuccessAction } from '../state/action-creators'\nimport { useAppSelector } from '../Types'\n\n\n\nimport { Alertshow } from '../component/AlertShow';\ntype Props = {}\n\nfunction LoginScreen({ }: Props) {\n\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n\n    const itemSet = (localStorage.getItem('userdata'));\n    console.log(itemSet)\n    if (itemSet) {\n      console.log('here')\n      navigate('/navigate')\n    }\n  }, [])\n\n\n  const [username, setUsername] = useState('')\n\n  const [password, setPassword] = useState('')\n\n  const [isAdmin, setIsAdmin] = useState(false)\n\n  const [errorss, setErrorss] = useState(false)\n\n  const [successlogin, setSuccesslogin] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const { successLogin, loadingLogin, errorLogin, message, userIdLogin, userNameLogin } = useAppSelector((state:any) => {\n    console.log(state);\n    return state.userReducer;\n})\n\n  const usernameFunc = (em: string) => {\n\n    setUsername(em)\n\n    setErrorss(false)\n  }\n\n  const passFunc = (em: string) => {\n\n    setErrorss(false)\n    setPassword(em)\n  }\n\n  const adminFunc = (che: string) => {\n    setIsAdmin(!isAdmin)\n  }\n\n  const userFunc = (che: string) => {\n\n    setIsAdmin(!isAdmin)\n  }\n\n  const loginHandler = () => {\n\n    dispatch(userLoginRequestAction(username, password))\n  }\n\n  if (successLogin) {\n    const obj = {\n\n      userId: userIdLogin,\n\n      userName: userNameLogin\n    }\n\n    const userdata = JSON.stringify(obj)\n\n    localStorage.setItem('userdata', userdata)\n\n    //dispatch(userinfoRequest(userId))\n\n    //dispatch(userLoginSuccessAction())\n\n\n    setTimeout(() => {\n      navigate('/navigate')\n    }, 4000);\n\n\n  }\n\n  const arr = { \"msgtype\": \"success\", \"msg\": `Hi ${userNameLogin} welcome !!` }\n\n  const arr2 = { \"msgtype\": \"danger\", \"msg\": \"username or password invalid\" }\n\n\n  return (\n    <>\n    {\n      successLogin ? <Alertshow arrs={arr} /> : <div></div>\n    },\n    {\n      errorLogin && !loadingLogin && !successLogin ? <Alertshow arrs={arr2} /> : <div></div>\n    },\n     <div className=\"loginPage bg-light-medium d-flex align-items-center justify-content-center w-100\">\n    <div className=\"login\">\n      <h1 className=\"mb-3\">Login</h1>\n      <form>\n        <div className=\"form-group was-validated mb-2\">\n          <label htmlFor=\"userName\" className=\"form-label\">\n            UserName :\n          </label>\n          <input\n            type=\"text\"\n            id=\"userName\"\n            className=\"form-control\"\n            onChange={(e) => {\n              usernameFunc(e.target.value);\n            }}\n            required\n          />\n           <div className=\"invalid-feedback\">\n            Please enter your username\n            </div>\n          <br />\n        </div>\n        <div className=\"form-group form-group was-validated  mb-2\">\n          <label htmlFor=\"password\" className=\"form-label\">\n           Password :\n          </label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"form-control\"\n            onChange={(e) => {\n              passFunc(e.target.value);\n            }}\n            required\n          />\n            <div className=\"invalid-feedback\">\n            Please enter your password\n            </div>\n            {errorss ? <div style={{ color: 'red' }}>Please enter username and password correctly</div> : <div></div>}\n          <br />\n        </div>\n        <button \n        type=\"submit\" \n        className=\"btn btn-success block mt-2\"\n        onClick={loginHandler}\n        >\n          Login\n        </button>\n      </form>\n    </div>\n  </div>\n  </>\n  )\n}\n\nexport default LoginScreen"],"mappings":"kTACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,MAAO,yBAAyB,CAChC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAI9C;AAEA,OAAoCC,sBAAsB,KAAgC,0BAA0B,CACpH,OAASC,cAAc,KAAQ,UAAU,CAIzC,OAASC,SAAS,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGnD,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAa,CAAAC,yBAAA,CAAAD,IAAA,EAG/B,GAAM,CAAAE,QAAQ,CAAGb,WAAW,EAAE,CAE9BH,SAAS,CAAC,UAAM,CAEd,GAAM,CAAAiB,OAAO,CAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,CAClDC,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,CACpB,GAAIA,OAAO,CAAE,CACXG,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnBL,QAAQ,CAAC,WAAW,CAAC,CACvB,CACF,CAAC,CAAE,EAAE,CAAC,CAGN,IAAAM,SAAA,CAAgCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,IAAAI,UAAA,CAAgC1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,IAAAG,UAAA,CAA8B9B,QAAQ,CAAC,KAAK,CAAC,CAAA+B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,IAAAG,UAAA,CAA8BlC,QAAQ,CAAC,KAAK,CAAC,CAAAmC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,IAAAG,UAAA,CAAwCtC,QAAQ,CAAC,KAAK,CAAC,CAAAuC,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAhDE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IAEpC,GAAM,CAAAG,QAAQ,CAAGzC,WAAW,EAAE,CAE9B,IAAA0C,eAAA,CAAwFvC,cAAc,CAAC,SAACwC,KAAS,CAAK,CACpHzB,OAAO,CAACC,GAAG,CAACwB,KAAK,CAAC,CAClB,MAAO,CAAAA,KAAK,CAACC,WAAW,CAC5B,CAAC,CAAC,CAHQC,YAAY,CAAAH,eAAA,CAAZG,YAAY,CAAEC,YAAY,CAAAJ,eAAA,CAAZI,YAAY,CAAEC,UAAU,CAAAL,eAAA,CAAVK,UAAU,CAAEC,OAAO,CAAAN,eAAA,CAAPM,OAAO,CAAEC,WAAW,CAAAP,eAAA,CAAXO,WAAW,CAAEC,aAAa,CAAAR,eAAA,CAAbQ,aAAa,CAKnF,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,EAAU,CAAK,CAEnC5B,WAAW,CAAC4B,EAAE,CAAC,CAEfhB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,GAAM,CAAAiB,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAID,EAAU,CAAK,CAE/BhB,UAAU,CAAC,KAAK,CAAC,CACjBR,WAAW,CAACwB,EAAE,CAAC,CACjB,CAAC,CAED,GAAM,CAAAE,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,GAAW,CAAK,CACjCvB,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,GAAM,CAAAyB,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAID,GAAW,CAAK,CAEhCvB,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,GAAM,CAAA0B,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CAEzBhB,QAAQ,CAACvC,sBAAsB,CAACqB,QAAQ,CAAEI,QAAQ,CAAC,CAAC,CACtD,CAAC,CAED,GAAIkB,YAAY,CAAE,CAChB,GAAM,CAAAa,GAAG,CAAG,CAEVC,MAAM,CAAEV,WAAW,CAEnBW,QAAQ,CAAEV,aACZ,CAAC,CAED,GAAM,CAAAW,QAAQ,CAAGC,IAAI,CAACC,SAAS,CAACL,GAAG,CAAC,CAEpC1C,YAAY,CAACgD,OAAO,CAAC,UAAU,CAAEH,QAAQ,CAAC,CAE1C;AAEA;AAGAI,UAAU,CAAC,UAAM,CACfnD,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAAE,IAAI,CAAC,CAGV,CAEA,GAAM,CAAAoD,GAAG,CAAG,CAAE,SAAS,CAAE,SAAS,CAAE,KAAK,OAAAC,MAAA,CAAQjB,aAAa,eAAc,CAAC,CAE7E,GAAM,CAAAkB,IAAI,CAAG,CAAE,SAAS,CAAE,QAAQ,CAAE,KAAK,CAAE,8BAA+B,CAAC,CAG3E,mBACE5D,KAAA,CAAAE,SAAA,EAAA2D,QAAA,EAEExB,YAAY,cAAGvC,IAAA,CAACF,SAAS,EAACkE,IAAI,CAAEJ,GAAI,EAAG,cAAG5D,IAAA,UAAW,CACtD,GACD,CACEyC,UAAU,EAAI,CAACD,YAAY,EAAI,CAACD,YAAY,cAAGvC,IAAA,CAACF,SAAS,EAACkE,IAAI,CAAEF,IAAK,EAAG,cAAG9D,IAAA,UAAW,CACvF,GACA,cAAAA,IAAA,QAAKiE,SAAS,CAAC,kFAAkF,CAAAF,QAAA,cAClG7D,KAAA,QAAK+D,SAAS,CAAC,OAAO,CAAAF,QAAA,eACpB/D,IAAA,OAAIiE,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,OAAK,EAAK,cAC/B7D,KAAA,SAAA6D,QAAA,eACE7D,KAAA,QAAK+D,SAAS,CAAC,+BAA+B,CAAAF,QAAA,eAC5C/D,IAAA,UAAOkE,OAAO,CAAC,UAAU,CAACD,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,YAEjD,EAAQ,cACR/D,IAAA,UACEmE,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbH,SAAS,CAAC,cAAc,CACxBI,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CACfzB,YAAY,CAACyB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9B,CAAE,CACFC,QAAQ,OACR,cACDzE,IAAA,QAAKiE,SAAS,CAAC,kBAAkB,CAAAF,QAAA,CAAC,4BAEjC,EAAM,cACR/D,IAAA,SAAM,GACF,cACNE,KAAA,QAAK+D,SAAS,CAAC,2CAA2C,CAAAF,QAAA,eACxD/D,IAAA,UAAOkE,OAAO,CAAC,UAAU,CAACD,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,YAEjD,EAAQ,cACR/D,IAAA,UACEmE,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbH,SAAS,CAAC,cAAc,CACxBI,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CACfvB,QAAQ,CAACuB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1B,CAAE,CACFC,QAAQ,OACR,cACAzE,IAAA,QAAKiE,SAAS,CAAC,kBAAkB,CAAAF,QAAA,CAAC,4BAElC,EAAM,CACLlC,OAAO,cAAG7B,IAAA,QAAK0E,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAZ,QAAA,CAAC,8CAA4C,EAAM,cAAG/D,IAAA,UAAW,cAC3GA,IAAA,SAAM,GACF,cACNA,IAAA,WACAmE,IAAI,CAAC,QAAQ,CACbF,SAAS,CAAC,4BAA4B,CACtCW,OAAO,CAAEzB,YAAa,CAAAY,QAAA,CACrB,OAED,EAAS,GACJ,GACH,EACF,GACH,CAEL,CAEA,cAAe,CAAA1D,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}