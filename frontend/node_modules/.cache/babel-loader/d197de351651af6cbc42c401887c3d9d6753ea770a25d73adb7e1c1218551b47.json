{"ast":null,"code":"import _regeneratorRuntime from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aniketkumar/KB/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(workuserSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchuserSaga);import{takeEvery,call,put}from'redux-saga/effects';//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\nimport{userActionType}from'../state/action-types';//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n//import { userLoginSuccessAction } from '../state/action-creators';\nimport axios from'axios';import{userLoginFailAction}from'../state/action-creators';import{userLoginSuccessAction}from'../state/action-creators';var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){var config,username,pass,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(email,password);_context.prev=1;config={headers:{'Content-Type':'application/json'}};username=email;pass=password;_context.next=7;return axios.post('/user/login',{email:email,password:password},config);case 7:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);throw _context.t0;case 15:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function fetchUser(_x,_x2){return _ref.apply(this,arguments);};}();/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/function workuserSaga(action){var result;return _regeneratorRuntime().wrap(function workuserSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0://yield takeEvery\nconsole.log(\"worksaga working\");_context2.prev=1;//action.payload.email\nconsole.log(action.payload.user,action.payload.pass);_context2.next=5;return call(fetchUser,action.payload.user,action.payload.pass);case 5:result=_context2.sent;console.log(result);// way of calling action from work saga\n_context2.next=9;return put(userLoginSuccessAction(result));case 9:_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);_context2.next=15;return put(userLoginFailAction());case 15:case\"end\":return _context2.stop();}},_marked,null,[[1,11]]);}function watchuserSaga(){return _regeneratorRuntime().wrap(function watchuserSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"watch saga\");_context3.next=3;return takeEvery(userActionType.USER_LOGIN_REQUEST,workuserSaga);case 3:case\"end\":return _context3.stop();}},_marked2);}export var userSagas=watchuserSaga;","map":{"version":3,"names":["workuserSaga","_marked2","_regeneratorRuntime","mark","watchuserSaga","takeEvery","call","put","userActionType","axios","userLoginFailAction","userLoginSuccessAction","fetchUser","_ref","_asyncToGenerator","_callee","email","password","config","username","pass","_yield$axios$post","data","wrap","_callee$","_context","prev","next","console","log","headers","post","sent","abrupt","t0","stop","_x","_x2","apply","arguments","action","result","workuserSaga$","_context2","payload","user","_marked","watchuserSaga$","_context3","USER_LOGIN_REQUEST","userSagas"],"sources":["/home/aniketkumar/KB/projectMnagementSystem/frontend/src/sagas/userSaga.ts"],"sourcesContent":["\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { userLoginRequestAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst fetchUser  = async (email: string,password: string) => {\n\n    console.log(email,password)\n\n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        const username : string = email\n\n        const pass : string = password\n    \n        const { data } = await axios.post('/user/login',{email,password},config)\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n\n\n\n\n}\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\n\n\n\nfunction* workuserSaga(action: Action) : any{\n\n    //yield takeEvery\n\n    console.log(\"worksaga working\")\n\n    try {\n\n        //action.payload.email\n\n        console.log(action.payload.user,action.payload.pass)\n\n\n        const result = yield call(fetchUser,action.payload.user,action.payload.pass);\n\n        console.log(result)\n\n        // way of calling action from work saga\n        \n        yield put(userLoginSuccessAction(result))\n\n    \n\n    }\n    catch(err) {\n\n        yield put(userLoginFailAction())\n    }\n}\n function* watchuserSaga() {\n\n    console.log(\"watch saga\")\n    yield takeEvery(userActionType.USER_LOGIN_REQUEST,workuserSaga);\n\n    //yield call(handleLoginAction);\n\n}\n\nexport const userSagas = watchuserSaga;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}