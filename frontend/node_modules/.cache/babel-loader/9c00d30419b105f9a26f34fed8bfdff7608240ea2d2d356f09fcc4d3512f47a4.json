{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { courseActionType, userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { AssignProjectRequestFail } from '../state/action-creators';\nconst AssignCourseToUser = async (courseid, userAssignId) => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const user_id = parseInt(userAssignId);\n    const project_id = courseid;\n    console.log(user_id, project_id, \"jbvsj\", typeof courseid);\n    console.log(\"called in work before api\");\n    const data = await axios.post('/assign/project', {\n      user_id,\n      project_id\n    }, config);\n    console.log(\"called in work after api call \");\n    return data;\n  } catch (err) {\n    throw err;\n  }\n};\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n_c = AssignCourseToUser;\nfunction* workcourseSaga(action) {\n  //yield takeEvery\n  console.log(action.payload.courseid, action.payload.userid, \"watch course saga\");\n  try {\n    console.log(action.payload.courseid, action.payload.userid, \"watch course saga\");\n    const result = yield call(AssignCourseToUser, action.payload.courseid, action.payload.userid);\n    yield put({\n      type: userActionType.ASSIGN_PROJECT_SUCCESS\n    });\n    yield put({\n      type: courseActionType.COURSE_NOT_ASSIGN_REQUEST\n    });\n  } catch (err) {\n    yield put(AssignProjectRequestFail);\n  }\n}\nfunction* watchcourseSaga() {\n  console.log(\"watch course saga\");\n  yield takeEvery(userActionType.ASSIGN_PROJECT_REQUEST, workcourseSaga);\n\n  //yield call(handleLoginAction);\n}\n\nexport const courseSagas = watchcourseSaga;\nvar _c;\n$RefreshReg$(_c, \"AssignCourseToUser\");","map":{"version":3,"names":["takeEvery","call","put","courseActionType","userActionType","axios","AssignProjectRequestFail","AssignCourseToUser","courseid","userAssignId","config","headers","user_id","parseInt","project_id","console","log","data","post","err","_c","workcourseSaga","action","payload","userid","result","type","ASSIGN_PROJECT_SUCCESS","COURSE_NOT_ASSIGN_REQUEST","watchcourseSaga","ASSIGN_PROJECT_REQUEST","courseSagas","$RefreshReg$"],"sources":["/home/sameersuman/KB/new/projectMnagementSystem/frontend/src/sagas/courseSaga.ts"],"sourcesContent":["\n\n\n\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { courseActionType, userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { AssignProjectRequestFail, AssignProjectRequestSuccess, userLoginRequestAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst AssignCourseToUser  = async (courseid: string,userAssignId: string) => {\n\n   \n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        const user_id = parseInt(userAssignId)\n\n        const project_id = courseid\n\n        console.log(user_id,project_id,\"jbvsj\",typeof(courseid))\n\n        console.log(\"called in work before api\")\n        const data  = await axios.post('/assign/project',{user_id,project_id},config)\n\n        console.log(\"called in work after api call \")\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n\n\n\n\n}\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\n\n\n\nfunction* workcourseSaga(action: Action) : any{\n\n    //yield takeEvery\n    console.log(action.payload.courseid,action.payload.userid,\"watch course saga\")\n\n    try {\n\n        console.log(action.payload.courseid,action.payload.userid,\"watch course saga\")\n        const result = yield call(AssignCourseToUser,action.payload.courseid,action.payload.userid);\n\n        \n        yield put({type : userActionType.ASSIGN_PROJECT_SUCCESS})\n\n        yield put({type : courseActionType.COURSE_NOT_ASSIGN_REQUEST})\n\n    }\n    catch(err) {\n\n        yield put(AssignProjectRequestFail)\n    }\n}\n function* watchcourseSaga():any {\n\n    console.log(\"watch course saga\")\n    yield takeEvery(userActionType.ASSIGN_PROJECT_REQUEST,workcourseSaga);\n\n    //yield call(handleLoginAction);\n\n}\n\nexport const courseSagas = watchcourseSaga;"],"mappings":"AAKA,SAASA,SAAS,EAAiBC,IAAI,EAACC,GAAG,QAAc,oBAAoB;;AAE7E;;AAEA,SAASC,gBAAgB,EAAEC,cAAc,QAAQ,uBAAuB;;AAExE;;AAEA;;AAEA,OAAOC,KAAK,MAAM,OAAO;AAGzB,SAASC,wBAAwB,QAA6D,0BAA0B;AAOxH,MAAMC,kBAAkB,GAAI,MAAAA,CAAOC,QAAgB,EAACC,YAAoB,KAAK;EAGzE,IAAI;IAEA,MAAMC,MAAM,GAAG;MACXC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC;IAED,MAAMC,OAAO,GAAGC,QAAQ,CAACJ,YAAY,CAAC;IAEtC,MAAMK,UAAU,GAAGN,QAAQ;IAE3BO,OAAO,CAACC,GAAG,CAACJ,OAAO,EAACE,UAAU,EAAC,OAAO,EAAC,OAAON,QAAS,CAAC;IAExDO,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,MAAMC,IAAI,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,iBAAiB,EAAC;MAACN,OAAO;MAACE;IAAU,CAAC,EAACJ,MAAM,CAAC;IAE7EK,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAE7C,OAAOC,IAAI;EAEf,CAAC,CAAC,OAAOE,GAAG,EAAE;IAEV,MAAMA,GAAG;EACb;AAMJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVAC,EAAA,GAlCMb,kBAAkB;AAiDxB,UAAUc,cAAcA,CAACC,MAAc,EAAO;EAE1C;EACAP,OAAO,CAACC,GAAG,CAACM,MAAM,CAACC,OAAO,CAACf,QAAQ,EAACc,MAAM,CAACC,OAAO,CAACC,MAAM,EAAC,mBAAmB,CAAC;EAE9E,IAAI;IAEAT,OAAO,CAACC,GAAG,CAACM,MAAM,CAACC,OAAO,CAACf,QAAQ,EAACc,MAAM,CAACC,OAAO,CAACC,MAAM,EAAC,mBAAmB,CAAC;IAC9E,MAAMC,MAAM,GAAG,MAAMxB,IAAI,CAACM,kBAAkB,EAACe,MAAM,CAACC,OAAO,CAACf,QAAQ,EAACc,MAAM,CAACC,OAAO,CAACC,MAAM,CAAC;IAG3F,MAAMtB,GAAG,CAAC;MAACwB,IAAI,EAAGtB,cAAc,CAACuB;IAAsB,CAAC,CAAC;IAEzD,MAAMzB,GAAG,CAAC;MAACwB,IAAI,EAAGvB,gBAAgB,CAACyB;IAAyB,CAAC,CAAC;EAElE,CAAC,CACD,OAAMT,GAAG,EAAE;IAEP,MAAMjB,GAAG,CAACI,wBAAwB,CAAC;EACvC;AACJ;AACC,UAAUuB,eAAeA,CAAA,EAAO;EAE7Bd,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChC,MAAMhB,SAAS,CAACI,cAAc,CAAC0B,sBAAsB,EAACT,cAAc,CAAC;;EAErE;AAEJ;;AAEA,OAAO,MAAMU,WAAW,GAAGF,eAAe;AAAC,IAAAT,EAAA;AAAAY,YAAA,CAAAZ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}