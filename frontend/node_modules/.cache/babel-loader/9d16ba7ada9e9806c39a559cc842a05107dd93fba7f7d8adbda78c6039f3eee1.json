{"ast":null,"code":"import _regeneratorRuntime from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sameersuman/KB/new/projectMnagementSystem/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(workcourseSaga),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchcourseSaga);import{takeEvery,call,put}from'redux-saga/effects';//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\nimport{courseActionType,userActionType}from'../state/action-types';//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n//import { userLoginSuccessAction } from '../state/action-creators';\nimport axios from'axios';import{AssignProjectRequestFail}from'../state/action-creators';var AssignCourseToUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(courseid,userAssignId){var config,user_id,project_id,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{'Content-Type':'application/json'}};user_id=parseInt(userAssignId);project_id=courseid;console.log(user_id,project_id,\"jbvsj\",typeof courseid);console.log(\"called in work before api\");_context.next=8;return axios.post('/assign/project',{user_id:user_id,project_id:project_id},config);case 8:data=_context.sent;console.log(\"called in work after api call \");return _context.abrupt(\"return\",data);case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);throw _context.t0;case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function AssignCourseToUser(_x,_x2){return _ref.apply(this,arguments);};}();/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/function workcourseSaga(action){var result;return _regeneratorRuntime().wrap(function workcourseSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0://yield takeEvery\nconsole.log(action.payload.courseid,action.payload.userid,\"watch course saga\");_context2.prev=1;console.log(action.payload.courseid,action.payload.userid,\"watch course saga\");_context2.next=5;return call(AssignCourseToUser,action.payload.courseid,action.payload.userid);case 5:result=_context2.sent;_context2.next=8;return put({type:userActionType.ASSIGN_PROJECT_SUCCESS});case 8:_context2.next=10;return put({type:courseActionType.COURSE_NOT_ASSIGN_REQUEST});case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);_context2.next=16;return put(AssignProjectRequestFail);case 16:case\"end\":return _context2.stop();}},_marked,null,[[1,12]]);}function watchcourseSaga(){return _regeneratorRuntime().wrap(function watchcourseSaga$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"watch course saga\");_context3.next=3;return takeEvery(userActionType.ASSIGN_PROJECT_REQUEST,workcourseSaga);case 3:case\"end\":return _context3.stop();}},_marked2);}export var courseSagas=watchcourseSaga;","map":{"version":3,"names":["workcourseSaga","_marked2","_regeneratorRuntime","mark","watchcourseSaga","takeEvery","call","put","courseActionType","userActionType","axios","AssignProjectRequestFail","AssignCourseToUser","_ref","_asyncToGenerator","_callee","courseid","userAssignId","config","user_id","project_id","data","wrap","_callee$","_context","prev","next","headers","parseInt","console","log","post","sent","abrupt","t0","stop","_x","_x2","apply","arguments","action","result","workcourseSaga$","_context2","payload","userid","type","ASSIGN_PROJECT_SUCCESS","COURSE_NOT_ASSIGN_REQUEST","_marked","watchcourseSaga$","_context3","ASSIGN_PROJECT_REQUEST","courseSagas"],"sources":["/home/sameersuman/KB/new/projectMnagementSystem/frontend/src/sagas/courseSaga.ts"],"sourcesContent":["\n\n\n\n\nimport { takeEvery, take , select, call,put, fork} from  'redux-saga/effects';\n\n//import { USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL } from '../constants';\n\nimport { courseActionType, userActionType } from '../state/action-types';\n\n//import { userLoginRequest,userLoginSuccess } from '../action/userLoginAction';\n\n//import { userLoginSuccessAction } from '../state/action-creators';\n\nimport axios from 'axios';\nimport { Action } from '../state/action';\n\nimport { AssignProjectRequestFail, AssignProjectRequestSuccess, userLoginRequestAction } from '../state/action-creators';\n\nimport { userLoginFailAction } from '../state/action-creators';\n\nimport { userLoginSuccessAction } from '../state/action-creators';\n\n\nconst AssignCourseToUser  = async (courseid: string,userAssignId: string) => {\n\n   \n    try {\n        \n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n\n        const user_id = parseInt(userAssignId)\n\n        const project_id = courseid\n\n        console.log(user_id,project_id,\"jbvsj\",typeof(courseid))\n\n        console.log(\"called in work before api\")\n        const data  = await axios.post('/assign/project',{user_id,project_id},config)\n\n        console.log(\"called in work after api call \")\n\n        return data\n\n    } catch (err) {\n        \n        throw err\n    }\n    \n\n\n\n\n}\n/*function* handleLoginAction(action: Action) {\n    try {\n\n       const data = yield call(fetchUser);\n\n        \n    } catch(error) {\n\n    }\n\n}*/\n\n\n\n\nfunction* workcourseSaga(action: Action) : any{\n\n    //yield takeEvery\n    console.log(action.payload.courseid,action.payload.userid,\"watch course saga\")\n\n    try {\n\n        console.log(action.payload.courseid,action.payload.userid,\"watch course saga\")\n        const result = yield call(AssignCourseToUser,action.payload.courseid,action.payload.userid);\n\n        \n        yield put({type : userActionType.ASSIGN_PROJECT_SUCCESS})\n\n        yield put({type : courseActionType.COURSE_NOT_ASSIGN_REQUEST})\n\n    }\n    catch(err) {\n\n        yield put(AssignProjectRequestFail)\n    }\n}\n function* watchcourseSaga():any {\n\n    console.log(\"watch course saga\")\n    yield takeEvery(userActionType.ASSIGN_PROJECT_REQUEST,workcourseSaga);\n\n    //yield call(handleLoginAction);\n\n}\n\nexport const courseSagas = watchcourseSaga;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}